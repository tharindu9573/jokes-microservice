ARG BASE_URL
ARG GW_URL
ARG GW_PORT
ARG SM_QUEUE_NAME
ARG SM_CONTAINER_PORT
ARG PORT

FROM node:slim

ENV NODE_ENV development
ENV BASE_URL=$BASE_URL
ENV GW_URL=$GW_URL
ENV GW_PORT=$GW_PORT
ENV SM_QUEUE_NAME=$SM_QUEUE_NAME
ENV SM_CONTAINER_PORT=$SM_CONTAINER_PORT
ENV PORT=$PORT

WORKDIR /express-docker

COPY . .

RUN npm install

CMD ["npm", "start"]

EXPOSE 3200